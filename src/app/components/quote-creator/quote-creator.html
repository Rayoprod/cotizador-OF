<div class="container my-4 my-md-5">
  <div class="card shadow-sm">
    <div class="card-header bg-light p-4">
      <div class="d-flex flex-column flex-md-row justify-content-between align-items-center">
        <div class="mb-3 mb-md-0">
          <img src="./../../../assets/logowym.png" alt="Logo" class="logo-image">
        </div>
        <div class="text-md-end">
          <h1 class="h2 mb-0">COTIZACIÓN</h1>
          <span>{{ numeroCotizacion }}</span>
        </div>
      </div>
    </div>
    <div class="card-body p-4">
      <div class="row mb-4">
        <div class="col-md-7 mb-3 mb-md-0">
          <label for="cliente" class="form-label">Cliente</label>
          <input type="text" id="cliente" class="form-control" [(ngModel)]="cliente">
        </div>
        <div class="col-md-5">
          <label for="fecha" class="form-label">Fecha</label>
          <input type="text" id="fecha" class="form-control" [(ngModel)]="fecha">
        </div>
      </div>

      <h3 class="mb-3 border-bottom pb-2">Detalle</h3>
      <div class="table-responsive">
        <table class="table align-middle">
          <thead class="table-light d-none d-md-table-header-group">
            <tr>
              <th scope="col" style="width: 5%;">#</th>
              <th scope="col">Descripción</th>
              <th scope="col" class="text-end" style="width: 15%;">Cantidad</th>
              <th scope="col" class="text-end" style="width: 20%;">P. Unitario</th>
              <th scope="col" class="text-end" style="width: 20%;">Total</th>
              <th scope="col" style="width: 5%;"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of items; let i = index" class="item-row">
              <td class="item-number" data-label="#">{{ i + 1 }}</td>
              <td data-label="Descripción"><input type="text" class="form-control" [(ngModel)]="item.descripcion"></td>
              <td data-label="Cantidad"><input type="number" class="form-control text-end" [(ngModel)]="item.cantidad"></td>
              <td data-label="P. Unitario"><input type="number" class="form-control text-end" [(ngModel)]="item.precioUnitario"></td>
              <td data-label="Total" class="text-end fw-bold">{{ (item.cantidad * item.precioUnitario) | currency:'S/ ' }}</td>
              <td class="text-center">
                <button class="btn btn-outline-danger btn-sm" (click)="removeItem(item.id)">
                  &times;
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <button class="btn btn-outline-primary mt-3" (click)="addItem()">+ Añadir Item</button>

      <div class="row justify-content-end mt-4">
        <div class="col-md-5">
          <ul class="list-group">
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Subtotal
              <span>{{ subtotal | currency:'S/ ' }}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              IGV (18%)
              <span>{{ igv | currency:'S/ ' }}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center fw-bold h5 text-primary">
              TOTAL
              <span>{{ total | currency:'S/ ' }}</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="card-footer text-center p-3">
      <button class="btn btn-success btn-lg" (click)="generarPDF()">
        Generar PDF
      </button>
    </div>
  </div>
</div>
